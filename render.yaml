services:
  - type: web
    name: perchance-image-api
    runtime: docker
    dockerfilePath: ./Dockerfile
    # Render free tier has 512MB RAM. Chromium needs ~300MB so we stay just
    # within limits by reusing the browser across requests (see main.py).
    # If you hit OOM errors, upgrade to the "starter" plan (512MB â†’ 2GB).
    plan: free
    envVars:
      - key: API_SECRET
        generateValue: true        # Render auto-generates a random secret
      - key: MAX_IMAGES
        value: "4"
    healthCheckPath: /health
